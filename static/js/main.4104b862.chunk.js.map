{"version":3,"sources":["store/AccessTokenStore.js","services/BaseService.js","services/UserService.js","contexts/UserContext.jsx","hooks/useUser.jsx","services/AuthService.js","components/auth/Login.jsx","services/ProductService.js","components/home/Product.jsx","components/home/Products.jsx","components/home/SideMenu.jsx","components/home/Home.jsx","assets/amazhack.svg","components/nav/Navbar.jsx","components/product/LinkToEdit.jsx","components/product/Product.jsx","components/productForm/FormField.jsx","components/productForm/ProductForm.jsx","App.js","reportWebVitals.js","index.js"],"names":["accessToken","window","localStorage","getItem","getAccessToken","logout","removeItem","location","assign","create","opts","http","axios","baseURL","process","interceptors","request","use","useAccessToken","headers","common","Authorization","response","data","error","reloadOnUnathorized","includes","status","Promise","reject","UserContext","createContext","UserContextProvider","children","useState","user","setUser","getUser","get","then","useEffect","value","Provider","reloadOnUnauthorized","EMAIL_PATTERN","validators","email","message","test","password","length","Login","push","useHistory","doLogin","useContext","fields","errors","state","setState","touched","setTouched","isValid","Object","keys","some","onChange","e","target","name","prevState","onBlur","prevTouched","onFocus","className","onSubmit","body","preventDefault","post","token","access_token","setItem","style","maxWidth","htmlFor","type","id","autoComplete","disabled","getProduct","Product","description","price","image","width","src","alt","to","Products","products","map","product","key","CATEGORIES","MenuButton","category","setCategory","active","onClick","SideMenu","activeCategory","i","Home","setProducts","prods","Navbar","logo","height","exact","LinkToEdit","productUser","productId","setProduct","useParams","prod","FormField","formType","CustomTag","ProductForm","categories","setErrors","p","old","tagName","selectedOptions","o","files","formData","FormData","entries","forEach","append","put","editProduct","catch","multiple","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4104b862.chunk.js","sourcesContent":["let accessToken = window.localStorage.getItem('token') || null\n\nexport const getAccessToken = () => accessToken\n\nexport const setAccessToken = token => {\n  window.localStorage.setItem('token', token)\n  accessToken = token\n}\n\nexport const logout = () => {\n  window.localStorage.removeItem('token')\n  window.location.assign('/signin')\n}","import axios from \"axios\";\nimport { getAccessToken, logout } from \"../store/AccessTokenStore\";\n\nexport const create = (opts = {}) => {\n  const http = axios.create({\n    baseURL: `${process.env.REACT_APP_API_HOST || \"http://localhost:3001\"}/api`,\n    ...opts,\n  });\n\n  http.interceptors.request.use((request) => {\n    if (opts.useAccessToken !== false) {\n      request.headers.common.Authorization = `Bearer ${getAccessToken()}`;\n    } else {\n      delete request.headers.common.Authorization;\n    }\n\n    return request;\n  });\n\n  http.interceptors.response.use(\n    (response) => response.data,\n    (error) => {\n      if (\n        opts.reloadOnUnathorized &&\n        error.response &&\n        [401, 403].includes(error.response.status)\n      ) {\n        logout();\n      }\n\n      return Promise.reject(error);\n    }\n  );\n\n  return http;\n};\n","import { create } from \"./BaseService\";\n\nconst http = create()\n\nexport const getUserInfo = () => {\n  return http.get('/users/me')\n}","import { createContext, useEffect, useState } from \"react\";\nimport { getUserInfo } from \"../services/UserService\";\nimport { getAccessToken } from \"../store/AccessTokenStore\";\n\nexport const UserContext = createContext();\n\nexport function UserContextProvider({ children }) {\n  const [user, setUser] = useState(null);\n\n  const getUser = () => {\n    return getUserInfo().then((response) => setUser(response));\n  };\n\n  useEffect(() => {\n    if (getAccessToken()) {\n      getUser();\n    }\n  }, []);\n\n  const value = {\n    getUser,\n    user,\n  };\n\n  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;\n}\n","import { useContext } from \"react\";\nimport { UserContext } from \"../contexts/UserContext\";\n\nexport const useUser = () => useContext(UserContext);","import { create } from \"./BaseService\";\n\nconst http = create({\n  useAccessToken: false,\n  reloadOnUnauthorized: false,\n})\n\nexport const login = (body) => {\n  return http.post('/login', body)\n}","import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useUser } from '../../hooks/useUser';\nimport { login } from '../../services/AuthService';\nimport { setAccessToken } from '../../store/AccessTokenStore';\n\n\n// eslint-disable-next-line no-useless-escape\nconst EMAIL_PATTERN = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\nconst validators = {\n  email: (value) => {\n    let message;\n\n    if (!value) {\n      message = \"Email is required\";\n    } else if (!EMAIL_PATTERN.test(value)) {\n      message = \"Email is invalid\";\n    }\n\n    return message;\n  },\n  password: (value) => {\n    let message;\n\n    if (!value) {\n      message = \"Password is required\";\n    } else if (value && value.length < 8) {\n      message = \"Password must have 8 character or more\";\n    }\n\n    return message;\n  },\n};\n\nconst Login = () => {\n  const { push } = useHistory();\n  const { getUser: doLogin } = useUser();\n\n  const [state, setState] = useState({\n    fields: {\n      email: \"\",\n      password: \"\",\n    },\n    errors: {\n      email: validators.email(),\n      password: validators.password(),\n    },\n  });\n\n  const [touched, setTouched] = useState({});\n\n  const isValid = () => {\n    const { errors } = state;\n    return !Object.keys(errors).some((error) => errors[error]);\n  };\n\n  const onSubmit = (e) => {\n    const { fields } = state;\n    e.preventDefault();\n\n    if (isValid()) {\n      login(fields).then((response) => {\n        setAccessToken(response.access_token);\n        doLogin().then(() => push(\"/\"));\n      });\n    }\n  };\n\n  const onChange = (e) => {\n    const { name, value } = e.target;\n\n    setState((prevState) => ({\n      fields: {\n        ...prevState.fields,\n        [name]: value,\n      },\n      errors: {\n        ...prevState.errors,\n        [name]: validators[name] && validators[name](value),\n      },\n    }));\n  };\n\n  const onBlur = (e) => {\n    const { name } = e.target;\n\n    setTouched((prevTouched) => ({\n      ...prevTouched,\n      [name]: true,\n    }));\n  };\n\n  const onFocus = (e) => {\n    const { name } = e.target;\n\n    setTouched((prevTouched) => ({\n      ...prevTouched,\n      [name]: false,\n    }));\n  };\n\n  const { email, password } = state.fields;\n  const { errors } = state;\n\n  return (\n    <div className=\"Login mt-4 container d-flex justify-content-center\">\n      <form onSubmit={onSubmit} style={{ maxWidth: 500 }}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"email\" className=\"form-label\">\n            Email address\n          </label>\n          <input\n            className={`form-control ${\n              touched.email && errors.email ? \"is-invalid\" : \"\"\n            }`}\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            autoComplete=\"off\"\n            value={email}\n            onChange={onChange}\n            onBlur={onBlur}\n            onFocus={onFocus}\n          />\n          <div className=\"invalid-feedback\">{errors.email}</div>\n        </div>\n\n        <div className=\"mb-3\">\n          <label htmlFor=\"password\" className=\"form-label\">\n            Password\n          </label>\n          <input\n            className={`form-control ${\n              touched.password && errors.password ? \"is-invalid\" : \"\"\n            }`}\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={onChange}\n            onBlur={onBlur}\n            onFocus={onFocus}\n          />\n          <div className=\"invalid-feedback\">{errors.password}</div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-outline-primary\"\n          disabled={!isValid()}\n        >\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import { create } from \"./BaseService\";\n\nconst http = create()\n\nexport const getProducts = () => {\n  return http.get('/products')\n}\n\nexport const getProduct = (id) => {\n\treturn http.get(`/products/${id}`);\n}\n\nexport const editProduct = (product, id) => {\n\treturn http.put(`products/${id}`, product);\n}","import { Link } from \"react-router-dom\";\n\nexport default function Product({ name, description, id, price, user, image }) {\n  return (\n    <div className=\"Product card\" style={{ width: \"18rem\" }}>\n      <img src={image} className=\"card-img-top\" alt={name} />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{name}</h5>\n        <p className=\"card-text\">\n          {description}\n          <br />\n          {price / 100} €\n        </p>\n        <Link to={`/products/${id}`} className=\"btn btn-primary\">\n          Detail\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Product from \"./Product\";\n\nconst Products = ({ products }) => {\n  return (\n    <div className=\"Products d-flex flex-wrap justify-content-around mt-3\">\n      {products.map((product) => (\n        <Product {...product} key={product.id} />\n      ))}\n    </div>\n  );\n};\n\nexport default Products;\n","import React from 'react';\n\nexport const CATEGORIES = ['Electronics', 'Computers', 'Home', 'Pets', 'Fashion']\n\nconst MenuButton = ({category, setCategory, active}) => (\n  <li className=\"nav-item\">\n    <button\n      className={`text-start nav-link text-white w-100 ${active ? 'active' : ''}`}\n      onClick={() => setCategory(category)}\n    >\n      {category}\n    </button>\n  </li>\n)\n\nconst SideMenu = ({ activeCategory, setCategory }) => {\n  return (\n    <div className=\"SideMenu shadow-lg bg-secondary min-vh-100 p-3\" style={{ width: 200 }}>\n      <ul className=\"nav nav-pills flex-column mb-auto\">\n        <MenuButton\n          active={!activeCategory}\n          category=\"All\"\n          setCategory={() => setCategory('')}\n        />\n        {CATEGORIES.map((category, i) => (\n          <MenuButton\n            key={i}\n            active={activeCategory === category}\n            category={category}\n            setCategory={() => setCategory(category)}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default SideMenu;","import React, { useEffect, useState } from \"react\";\nimport { getProducts } from \"../../services/ProductService\";\nimport Products from \"./Products\";\nimport SideMenu from \"./SideMenu\";\n\nconst Home = () => {\n  const [category, setCategory] = useState(\"\");\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    getProducts().then((prods) => {\n      setProducts(prods);\n    });\n  }, []);\n  return (\n    <div className=\"Home d-flex\">\n      <SideMenu activeCategory={category} setCategory={setCategory} />\n      <Products products={products} />\n    </div>\n  );\n};\n\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/amazhack.eee8bf89.svg\";","import React, { useContext } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport logo from \"../../assets/amazhack.svg\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport { logout } from \"../../store/AccessTokenStore\";\n\nconst Navbar = () => {\n  const { user } = useContext(UserContext);\n  return (\n    <header className=\"Navbar bg-dark py-3 shadow\">\n      <div className=\"container-fluid\">\n        <div className=\"d-flex flex-column flex-md-row align-items-center\">\n          <Link\n            to=\"/\"\n            className=\"d-flex align-items-center text-light text-decoration-none\"\n          >\n            <img className=\"me-2\" src={logo} alt=\"Amahack\" height={40} />\n            <span className=\"fw-bold h5 m-0\">Amahack</span>\n          </Link>\n\n          <nav className=\"d-inline-flex mt-2 mt-md-0 ms-md-auto\">\n            {!user ? (\n              <>\n                <NavLink\n                  className=\"me-3 py-2 text-light text-decoration-none\"\n                  to=\"/signin\"\n                  exact\n                >\n                  Sign in\n                </NavLink>\n                <NavLink\n                  className=\"me-3 py-2 text-light text-decoration-none\"\n                  to=\"/register\"\n                  exact\n                >\n                  Register\n                </NavLink>\n              </>\n            ) : (\n              <>\n                <button\n                  onClick={logout}\n                  className=\"btn btn-danger me-3 py-2 text-light text-decoration-none\"\n                >\n                  Log out\n                </button>\n              </>\n            )}\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Navbar;\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { UserContext } from \"../../contexts/UserContext\";\n\nexport default function LinkToEdit({ productUser, productId }) {\n  const { user } = useContext(UserContext);\n  return (\n    <div className=\"LinkToEdit\">\n      {user?.id === productUser && (\n        <Link to={`/products/${productId}/edit`} className=\"btn btn-primary\">\n          Edit\n        </Link>\n      )}\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getProduct } from \"../../services/ProductService\";\nimport LinkToEdit from \"./LinkToEdit\";\n\nexport default function Product() {\n  const [product, setProduct] = useState();\n  const { id } = useParams();\n\n  useEffect(() => {\n    getProduct(id).then((prod) => setProduct(prod));\n  }, [id]);\n\n  if (!product) {\n    return \"Loading...\";\n  }\n  return (\n    <div className=\"Product card\" style={{ width: \"18rem\" }}>\n      <img src={product.image} className=\"card-img-top\" alt={product.name} />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{product.name}</h5>\n        <p className=\"card-text\">\n          {product.description}\n          <br />\n          {product.price / 100} €\n        </p>\n        <LinkToEdit\n          productId={product.id}\n          productUser={product.user}\n        />\n      </div>\n    </div>\n  );\n}\n","export default function FormField({\n  name,\n  id,\n  value,\n  error,\n  onChange,\n  formType,\n  type = \"text\",\n}) {\n  const CustomTag = `${formType}`;\n  return (\n    <div className=\"form-group mt-3\">\n      <label htmlFor={id}>{name}</label>\n      <CustomTag\n        type={type}\n        className={`form-control ${error && 'is-invalid'}`}\n        id={id}\n        value={value}\n        onChange={onChange}\n      />\n      {error && <div className=\"invalid-feedback\">{error}</div>}\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { editProduct, getProduct } from \"../../services/ProductService\";\nimport FormField from \"./FormField\";\nimport { CATEGORIES } from \"../home/SideMenu\";\n\nexport default function ProductForm() {\n  const [product, setProduct] = useState({\n    image: \"\",\n    description: \"\",\n    name: \"\",\n    price: \"\",\n    categories: [],\n  });\n  const [errors, setErrors] = useState({});\n  const { id } = useParams();\n  const { push } = useHistory();\n\n  useEffect(() => {\n    getProduct(id).then((p) => setProduct(p));\n  }, [id]);\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tObject.entries(product).forEach(([key, value]) => formData.append(key, value));\n    editProduct(formData, id)\n      .then(() => {\n\t\t\t\tpush(\"/\");\n\t\t\t\treturn;\n      })\n      .catch((e) => {\n        if (e.response.status === 400) {\n          setErrors(e.response.data.errors);\n        }\n      });\n  };\n\n  const onChange = (e) => {\n    setProduct((old) => {\n      let value = e.target.value;\n      if (e.target.tagName === \"SELECT\") {\n        value = [...e.target.selectedOptions].map((o) => o.value);\n      } else if (e.target.id === \"price\") {\n        value = value * 100;\n\t\t\t} else if (e.target.type === \"file\") {\n\t\t\t\tvalue = e.target.files[0];\n\t\t\t}\n      return { ...old, [e.target.id]: value };\n    });\n  };\n\n  return (\n    <form onSubmit={onSubmit} className=\"container mt-3\">\n      <FormField\n        value={product.name}\n        error={errors.name}\n        onChange={onChange}\n        id=\"name\"\n        name=\"Name\"\n        formType=\"input\"\n      />\n      <FormField\n        value={product.description}\n        error={errors.description}\n        onChange={onChange}\n        id=\"description\"\n        name=\"Description\"\n        formType=\"textarea\"\n      />\n      <FormField\n        value={product.price / 100}\n        error={errors.price}\n        onChange={onChange}\n        id=\"price\"\n        name=\"Price (€)\"\n        formType=\"input\"\n        type=\"number\"\n      />\n      <FormField\n        error={errors.image}\n        onChange={onChange}\n        id=\"image\"\n        name=\"Image\"\n\t\t\t\tformType=\"input\"\n\t\t\t\ttype=\"file\"\n      />\n      <div className=\"form-group mt-3\">\n        <label htmlFor=\"categories\">Categories</label>\n        <select\n          id=\"categories\"\n          className=\"form-control\"\n          value={product.categories}\n          onChange={onChange}\n          multiple\n        >\n          {CATEGORIES.map((category) => (\n            <option key={category}>{category}</option>\n          ))}\n        </select>\n      </div>\n      <button type=\"submit\" className=\"btn btn-primary mt-3\">\n        Edit\n      </button>\n    </form>\n  );\n}\n","import './App.css';\n\nimport { Route, Switch } from 'react-router';\n\nimport Login from './components/auth/Login';\nimport Home from './components/home/Home';\nimport Navbar from './components/nav/Navbar';\nimport Product from './components/product/Product';\nimport ProductForm from './components/productForm/ProductForm';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Navbar />\n\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/products/:id/edit\" component={ProductForm} />\n        <Route exact path=\"/products/:id\" component={Product} />\n        <Route exact path=\"/signin\" component={Login} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport { UserContextProvider } from \"./contexts/UserContext\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <UserContextProvider>\n        <App />\n      </UserContextProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}